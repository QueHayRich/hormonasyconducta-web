---
import Layout from '../../layouts/Layout.astro';

// Funci√≥n para obtener la URL base
const getBaseUrl = () => {
  return import.meta.env.BASE_URL;
};

// Interfaces para el equipo
interface TeamMember {
  id: string;
  name: string;
  title: string;
  role: 'director' | 'student' | 'postdoc';
  specialization: string[];
  researchArea: string;
  description: string;
  email?: string;
  orcid?: string;
  showOrcid?: boolean;  // ‚Üê Nueva propiedad opcional
  image?: string;
  publications?: number;
  yearsInLab?: number;
  currentProject?: string;
  techniques?: string[];
}

// Tipo para roles
type TeamRole = 'director' | 'student' | 'postdoc';

// Datos del equipo (actualizar)
const teamMembers: TeamMember[] = [
  // Directores
  {
    id: 'tomas-fregoso',
    name: 'Dr. Tom√°s Fregoso Aguilar',
    title: 'Jefe de Laboratorio',
    role: 'director',
    specialization: ['Neuroendocrinolog√≠a', 'Diabetes Experimental', 'Fisiolog√≠a'],
    researchArea: 'Modelos murinos de diabetes y an√°lisis conductual',
    description: 'Investigador principal especializado en el estudio de las interacciones entre hormonas y conducta. L√≠der en investigaci√≥n de diabetes experimental y sus efectos neurocomportamentales.',
    email: 'tfregoso@ipn.mx',
    orcid: '0000-0003-0824-1792',
    showOrcid: true,
    image: getBaseUrl() + 'team/dr-tomas.jpg', // ‚úÖ Usar getBaseUrl()
    publications: 25,
    yearsInLab: 15
  },
  {
    id: 'dulce-nicolas',
    name: 'Dra. Dulce Estefan√≠a Nicol√°s √Ålvarez',
    title: 'Jefa de Laboratorio',
    role: 'director',
    specialization: ['Qu√≠mica Te√≥rica', 'Docking Molecular', 'Bioinform√°tica'],
    researchArea: 'Simulaci√≥n molecular y dise√±o computacional de f√°rmacos',
    description: 'Especialista en m√©todos computacionales aplicados a la investigaci√≥n biom√©dica. Pionera en el uso de t√©cnicas de docking molecular para el estudio de interacciones hormonales.',
    email: 'dnicolas@ipn.mx',
    orcid: '0000-0002-1717-9081',
    showOrcid: true,
    image: getBaseUrl() + 'team/dra-nicolas.png', // ‚úÖ Usar getBaseUrl()
    publications: 18,
    yearsInLab: 8
  },
  
  // Estudiantes
  {
    id: 'april-munguia',
    name: 'April Mungu√≠a',
    title: 'Estudiante de Licenciatura en Biolog√≠a',
    role: 'student',
    specialization: ['Docking Molecular', 'Din√°mica Molecular', 'Bioinform√°tica'],
    researchArea: 'Simulaci√≥n computacional de interacciones biomoleculares',
    description: 'Desarrollando su tesis de licenciatura en t√©cnicas avanzadas de docking y din√°mica molecular para el estudio de interacciones prote√≠na-ligando.',
    currentProject: 'An√°lisis computacional de interacciones hormonales mediante docking molecular',
    techniques: ['AutoDock', 'GROMACS', 'PyMOL', 'VMD'],
    image: getBaseUrl() + 'team/april.png', // ‚úÖ Usar getBaseUrl()
    yearsInLab: 2
  },
  {
    id: 'fernanda-lozada',
    name: 'Fernanda Lozada',
    title: 'Estudiante de Licenciatura en Biolog√≠a',
    role: 'student',
    specialization: ['Histolog√≠a', 'An√°lisis Conductual', 'Micolog√≠a'],
    researchArea: 'Extractos de hongos y efectos neuroconductuales',
    description: 'Investigando los efectos de extractos f√∫ngicos en modelos murinos, integrando an√°lisis histol√≥gico con evaluaci√≥n conductual para comprender mecanismos de acci√≥n.',
    currentProject: 'Evaluaci√≥n de extractos de hongos en modelo murino: an√°lisis histol√≥gico y conductual',
    techniques: ['Histolog√≠a', 'Laberinto de Barnes', 'Campo Abierto', 'Extracci√≥n'],
    image: getBaseUrl() + 'team/fernanda.png', // ‚úÖ Usar getBaseUrl()
    yearsInLab: 1.5
  },
  {
    id: 'sebastian',
    name: 'Sebasti√°n',
    title: 'Estudiante de Licenciatura en Biolog√≠a',
    role: 'student',
    specialization: ['Fitoqu√≠mica', 'Extractos Vegetales', 'Farmacolog√≠a'],
    researchArea: 'Propiedades bioactivas de plantas medicinales',
    description: 'Enfocado en la caracterizaci√≥n de compuestos bioactivos de plantas mexicanas con potencial terap√©utico en trastornos metab√≥licos.',
    currentProject: 'Caracterizaci√≥n fitoqu√≠mica de extractos vegetales con actividad antidiab√©tica',
    techniques: ['Extracci√≥n vegetal', 'Cromatograf√≠a', 'Bioensayos', 'An√°lisis fitoqu√≠mico'],
    image: getBaseUrl() + 'team/sebastian.png', // ‚úÖ Usar getBaseUrl()
    yearsInLab: 1
  },
  {
    id: 'richie',
    name: 'Richie',
    title: 'Investigador Posdoctoral',
    role: 'postdoc',
    specialization: ['Neurobiolog√≠a', 'Endocrinolog√≠a Molecular', 'An√°lisis de Datos'],
    researchArea: 'Mecanismos moleculares de la regulaci√≥n hormonal',
    description: 'Colaborador posdoctoral especializado en t√©cnicas avanzadas de neurobiolog√≠a molecular y an√°lisis de big data en investigaci√≥n endocrina.',
    currentProject: 'Integraci√≥n de datos √≥micos en estudios neuroendocrinos',
    techniques: ['RNA-seq', 'Prote√≥mica', 'Machine Learning', 'Estad√≠stica Avanzada'],
    image: getBaseUrl() + 'team/richie.png', // ‚úÖ Usar getBaseUrl()
    email: 'ricardoaguilargaray@gmail.com',
    orcid: '0000-0002-3566-1330',
    showOrcid: true,
    yearsInLab: 0.5
  }
];

// Estad√≠sticas del equipo
const teamStats = {
  totalMembers: teamMembers.length,
  directors: teamMembers.filter(m => m.role === 'director').length,
  students: teamMembers.filter(m => m.role === 'student').length,
  postdocs: teamMembers.filter(m => m.role === 'postdoc').length,
  totalPublications: teamMembers.reduce((acc, member) => acc + (member.publications || 0), 0),
  researchAreas: [...new Set(teamMembers.flatMap(m => m.specialization))].length
};

// Colores por rol - Con tipo expl√≠cito
const roleColors: Record<TeamRole, string> = {
  director: 'from-blue-600 to-indigo-700',
  student: 'from-teal-600 to-cyan-700', 
  postdoc: 'from-purple-600 to-violet-700'
};

const roleIcons: Record<TeamRole, string> = {
  director: 'üë®‚Äçüî¨',
  student: 'üéì',
  postdoc: 'üî¨'
};

const roleTitles: Record<TeamRole, string> = {
  director: 'Direcci√≥n Cient√≠fica',
  student: 'Estudiantes',
  postdoc: 'Investigadores Posdoctorales'
};

// Array de roles en orden espec√≠fico
const roleOrder: TeamRole[] = ['director', 'student', 'postdoc'];
---

<Layout title="Equipo - Laboratorio de Hormonas y Conducta">
  <!-- Hero Section con dise√±o limpio y elegante -->
  <section class="relative bg-gradient-to-br from-gray-50 via-blue-50 to-indigo-50 py-20 overflow-hidden">
    <!-- Elementos decorativos minimalistas -->
    <div class="absolute inset-0">
      <!-- C√≠rculos sutiles y elegantes -->
      <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-blue-100/30 rounded-full blur-2xl"></div>
      <div class="absolute bottom-1/3 right-1/4 w-48 h-48 bg-indigo-100/25 rounded-full blur-2xl"></div>
      
      <!-- Patr√≥n de puntos minimalista -->
      <div class="absolute inset-0 opacity-20">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <pattern id="elegant-dots" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse">
              <circle cx="20" cy="20" r="1" fill="#6366f1" opacity="0.3"/>
            </pattern>
          </defs>
          <rect x="0" y="0" width="100%" height="100%" fill="url(#elegant-dots)"/>
        </svg>
      </div>
    </div>
    
    <div class="relative z-10 container mx-auto px-4">
      <div class="max-w-6xl mx-auto text-center">
        <div class="mb-8">
          <span class="inline-block bg-white/90 backdrop-blur-sm text-indigo-700 px-6 py-3 rounded-full text-sm font-semibold border border-indigo-200 shadow-sm">
            üë• Nuestro Equipo Cient√≠fico
          </span>
        </div>
        <h1 class="text-4xl md:text-6xl lg:text-7xl font-bold text-gray-800 mb-6">
          Equipo de <span class="bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent">Investigaci√≥n</span>
        </h1>
        <p class="text-xl md:text-2xl text-gray-600 mb-16 max-w-3xl mx-auto">
          Conoce a los investigadores, estudiantes y colaboradores que impulsan la ciencia en el Laboratorio de Hormonas y Conducta.
        </p>
        
        <!-- Stats con dise√±o elegante y simple -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-16">
          <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
            <div class="text-3xl font-bold text-indigo-600 mb-2">{teamStats.totalMembers}</div>
            <div class="text-sm text-gray-600 font-medium">Miembros del Equipo</div>
          </div>
          <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
            <div class="text-3xl font-bold text-blue-600 mb-2">{teamStats.totalPublications}+</div>
            <div class="text-sm text-gray-600 font-medium">Publicaciones</div>
          </div>
          <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
            <div class="text-3xl font-bold text-teal-600 mb-2">{teamStats.researchAreas}</div>
            <div class="text-sm text-gray-600 font-medium">√Åreas de Expertise</div>
          </div>
          <div class="bg-white/80 backdrop-blur-sm rounded-2xl p-6 text-center border border-gray-200/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
            <div class="text-3xl font-bold text-purple-600 mb-2">15+</div>
            <div class="text-sm text-gray-600 font-medium">A√±os de Experiencia</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Team Grid por Roles -->
  {roleOrder.map((role) => {
    const members = teamMembers.filter(member => member.role === role);
    if (members.length === 0) return null;
    
    return (
      <section class="py-20 bg-white">
        <div class="container mx-auto px-4">
          <div class="max-w-7xl mx-auto">
            <!-- Header de secci√≥n -->
            <div class="text-center mb-16 relative">
              <!-- Fondo decorativo cient√≠fico -->
              <div class="absolute inset-0 -top-8 -bottom-8 bg-gradient-to-r from-emerald-50 via-teal-50 to-cyan-50 rounded-3xl opacity-65"></div>
              
              <!-- Patr√≥n neuronal -->
              <div class="absolute inset-0 -top-8 -bottom-8 opacity-12">
                <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                  <pattern id={`neural-pattern-${role}`} x="0" y="0" width="100" height="100" patternUnits="userSpaceOnUse">
                    <!-- Neuronas principales -->
                    <circle cx="25" cy="25" r="4" fill="#0891b2" opacity="0.6"/>
                    <circle cx="75" cy="75" r="4" fill="#6366f1" opacity="0.6"/>
                    <circle cx="75" cy="25" r="3" fill="#8b5cf6" opacity="0.5"/>
                    <circle cx="25" cy="75" r="3" fill="#06b6d4" opacity="0.5"/>
                    <!-- Conexiones sin√°pticas -->
                    <path d="M25,25 Q50,10 75,25" stroke="#0891b2" stroke-width="1.5" fill="none" opacity="0.3"/>
                    <path d="M25,25 Q10,50 25,75" stroke="#6366f1" stroke-width="1.5" fill="none" opacity="0.3"/>
                    <path d="M75,25 Q90,50 75,75" stroke="#8b5cf6" stroke-width="1.5" fill="none" opacity="0.3"/>
                    <path d="M25,75 Q50,90 75,75" stroke="#06b6d4" stroke-width="1.5" fill="none" opacity="0.3"/>
                    <!-- Dendritas -->
                    <path d="M25,25 L15,15 M25,25 L15,35 M25,25 L35,15" stroke="#0891b2" stroke-width="1" opacity="0.2"/>
                    <path d="M75,75 L85,85 M75,75 L85,65 M75,75 L65,85" stroke="#6366f1" stroke-width="1" opacity="0.2"/>
                  </pattern>
                  <rect x="0" y="0" width="100%" height="100%" fill={`url(#neural-pattern-${role})`}/>
                </svg>
              </div>
              
              <div class="relative z-10 py-8">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">{roleTitles[role]}</h2>
                <div class={`h-1 w-24 bg-gradient-to-r ${roleColors[role]} mx-auto rounded-full`}></div>
              </div>
            </div>
            
            <!-- Grid de miembros -->
            <div class={`grid gap-8 ${role === 'director' ? 'md:grid-cols-2' : 'md:grid-cols-2 lg:grid-cols-3'}`}>
              {members.map((member) => (
                <div class="group relative bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-200">
                  
                  <!-- Header con gradiente -->
                  <div class={`bg-gradient-to-r ${roleColors[role]} p-6 text-white relative`}>
                    <!-- Overlay oscuro sutil para mejor contraste -->
                    <div class="absolute inset-0 bg-black/20"></div>
                    
                    <!-- Imagen del miembro en esquina superior derecha -->
                    <div class="team-image-container">
                      <img 
                        src={member.image} 
                        alt={member.name}
                        class="team-image"
                      />
                    </div>
                    
                    <!-- Icono del rol como fallback (si NO hay imagen) -->
                    {!member.image && (
                      <div class="absolute top-0 right-0 p-4 relative z-10">
                        <span class="text-2xl opacity-80">{roleIcons[role]}</span>
                      </div>
                    )}
                    
                    <div class="relative z-20">
                      <h3 class="text-xl font-bold mb-2 text-gray-900">
                        {member.name}
                      </h3>
                      <p class="text-gray-700 text-sm font-medium">
                        {member.title}
                      </p>
                    </div>
                  </div>
                  
                  <!-- Contenido -->
                  <div class="p-6">
                    <!-- √Årea de investigaci√≥n -->
                    <div class="mb-4">
                      <h4 class="text-sm font-bold text-gray-700 uppercase tracking-wide mb-2 flex items-center">
                        <span class="w-2 h-2 bg-teal-500 rounded-full mr-2"></span>
                        √Årea de Investigaci√≥n
                      </h4>
                      <p class="text-gray-800 text-sm leading-relaxed">{member.researchArea}</p>
                    </div>
                    
                    <!-- Especializaci√≥n -->
                    <div class="mb-4">
                      <h4 class="text-sm font-bold text-gray-700 uppercase tracking-wide mb-2 flex items-center">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mr-2"></span>
                        Especializaci√≥n
                      </h4>
                      <div class="flex flex-wrap gap-1">
                        {member.specialization.map((spec) => (
                          <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-semibold border border-blue-200">
                            {spec}
                          </span>
                        ))}
                      </div>
                    </div>
                    
                    <!-- Descripci√≥n -->
                    <p class="text-gray-600 text-sm leading-relaxed mb-4">
                      {member.description}
                    </p>
                    
                    <!-- Proyecto actual (para estudiantes y postdocs) -->
                    {member.currentProject && (
                      <div class="mb-4 p-4 bg-blue-50 rounded-lg border-l-4 border-blue-500">
                        <h4 class="text-sm font-bold text-blue-900 mb-2 flex items-center">
                          <span class="text-blue-600 mr-2">üî¨</span>
                          Proyecto Actual
                        </h4>
                        <p class="text-blue-800 text-xs leading-relaxed">{member.currentProject}</p>
                      </div>
                    )}
                    
                    <!-- T√©cnicas (para estudiantes y postdocs) -->
                    {member.techniques && (
                      <div class="mb-4">
                        <h4 class="text-sm font-bold text-gray-700 uppercase tracking-wide mb-2 flex items-center">
                          <span class="w-2 h-2 bg-green-500 rounded-full mr-2"></span>
                          T√©cnicas
                        </h4>
                        <div class="flex flex-wrap gap-1">
                          {member.techniques.map((technique) => (
                            <span class="bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-semibold border border-green-200">
                              {technique}
                            </span>
                          ))}
                        </div>
                      </div>
                    )}
                    
                    <!-- Stats para directores -->
                    {member.role === 'director' && (
                      <div class="grid grid-cols-2 gap-4 mb-4">
                        <div class="text-center p-4 bg-gray-50 rounded-lg border border-gray-200">
                          <div class="text-xl font-bold text-gray-900">{member.publications}</div>
                          <div class="text-xs text-gray-600 font-semibold">Publicaciones</div>
                        </div>
                        <div class="text-center p-4 bg-gray-50 rounded-lg border border-gray-200">
                          <div class="text-xl font-bold text-gray-900">{member.yearsInLab}</div>
                          <div class="text-xs text-gray-600 font-semibold">A√±os en el Lab</div>
                        </div>
                      </div>
                    )}
                    
                    <!-- Tiempo en el lab (para estudiantes y postdocs) -->
                    {member.role !== 'director' && member.yearsInLab && (
                      <div class="text-center p-3 bg-amber-50 rounded-lg mb-4 border border-amber-200">
                        <span class="text-sm text-amber-800 font-semibold">
                          üïê {member.yearsInLab} {member.yearsInLab === 1 ? 'a√±o' : 'a√±os'} en el laboratorio
                        </span>
                      </div>
                    )}
                    
                    <!-- Contacto para directores Y postdocs -->
                    {member.email && (
                      <div class="flex gap-2">
                        <a href={`mailto:${member.email}`} 
                           class="flex-1 text-center bg-blue-600 text-white px-4 py-3 rounded-lg text-sm font-semibold hover:bg-blue-700 transition duration-300">
                          üìß Contactar
                        </a>
                        {member.orcid && member.showOrcid && (
                          <a href={`https://orcid.org/${member.orcid}`} target="_blank"
                             class="bg-green-600 text-white px-4 py-3 rounded-lg text-sm font-semibold hover:bg-green-700 transition duration-300">
                            üîó ORCID
                          </a>
                        )}
                      </div>
                    )}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>
    );
  })}

  <!-- Research Philosophy - Mejorada -->
  <section class="relative bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 py-24 overflow-hidden">
    <!-- Elementos decorativos de fondo -->
    <div class="absolute inset-0">
      <!-- C√≠rculos decorativos sutiles -->
      <div class="absolute top-20 left-10 w-72 h-72 bg-blue-200/20 rounded-full blur-3xl animate-float-gentle"></div>
      <div class="absolute bottom-20 right-10 w-64 h-64 bg-purple-200/15 rounded-full blur-3xl animate-float-gentle-delayed"></div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-indigo-200/10 rounded-full blur-3xl"></div>
      
      <!-- Patr√≥n cient√≠fico de fondo -->
      <div class="absolute inset-0 opacity-5">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="philosophy-pattern" x="0" y="0" width="120" height="120" patternUnits="userSpaceOnUse">
            <!-- Estructura molecular -->
            <circle cx="60" cy="60" r="4" fill="#6366f1" opacity="0.8"/>
            <circle cx="30" cy="30" r="3" fill="#8b5cf6" opacity="0.6"/>
            <circle cx="90" cy="90" r="3" fill="#3b82f6" opacity="0.6"/>
            <circle cx="30" cy="90" r="2.5" fill="#06b6d4" opacity="0.5"/>
            <circle cx="90" cy="30" r="2.5" fill="#8b5cf6" opacity="0.5"/>
            <!-- Conexiones -->
            <line x1="60" y1="60" x2="30" y2="30" stroke="#6366f1" stroke-width="2" opacity="0.4"/>
            <line x1="60" y1="60" x2="90" y2="90" stroke="#6366f1" stroke-width="2" opacity="0.4"/>
            <line x1="60" y1="60" x2="30" y2="90" stroke="#8b5cf6" stroke-width="1.5" opacity="0.3"/>
            <line x1="60" y1="60" x2="90" y2="30" stroke="#8b5cf6" stroke-width="1.5" opacity="0.3"/>
          </pattern>
          <rect x="0" y="0" width="100%" height="100%" fill="url(#philosophy-pattern)"/>
        </svg>
      </div>
    </div>
    
    <div class="relative z-10 container mx-auto px-4">
      <div class="max-w-6xl mx-auto">
        <!-- Header de la secci√≥n -->
        <div class="text-center mb-16">
          <div class="mb-6">
            <span class="inline-block bg-white/80 backdrop-blur-sm text-indigo-700 px-6 py-3 rounded-full text-sm font-semibold border border-indigo-200/50 shadow-lg">
              üí° Nuestra Filosof√≠a
            </span>
          </div>
          <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
            Filosof√≠a de <span class="bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">Investigaci√≥n</span>
          </h2>
          <p class="text-xl md:text-2xl text-gray-700 max-w-4xl mx-auto leading-relaxed">
            Nuestro equipo trabaja bajo los principios de <strong class="text-blue-600">colaboraci√≥n interdisciplinaria</strong>, 
            <strong class="text-green-600">excelencia cient√≠fica</strong> y <strong class="text-purple-600">formaci√≥n integral</strong> de nuevos investigadores.
          </p>
        </div>
        
        <!-- Cards de principios -->
        <div class="grid md:grid-cols-3 gap-8 mb-16">
          <!-- Colaboraci√≥n -->
          <div class="group relative bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
            <!-- Solo el icono, SIN contenedor con fondo -->
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
              <span class="text-6xl drop-shadow-lg">ü§ù</span>
            </div>
            
            <div class="pt-12 text-center">
              <h3 class="text-xl font-bold text-gray-900 mb-4">Colaboraci√≥n Interdisciplinaria</h3>
              <p class="text-gray-600 leading-relaxed mb-6">
                Fomentamos el trabajo en equipo entre diferentes disciplinas cient√≠ficas, integrando perspectivas √∫nicas para abordar problemas complejos desde m√∫ltiples enfoques.
              </p>
              <!-- Indicador visual -->
              <div class="flex justify-center">
                <div class="h-1 w-16 bg-gradient-to-r from-blue-500 to-cyan-600 rounded-full"></div>
              </div>
            </div>
          </div>
          
          <!-- Excelencia -->
          <div class="group relative bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
            <!-- Solo el icono, SIN contenedor con fondo -->
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
              <span class="text-6xl drop-shadow-lg">üéØ</span>
            </div>
            
            <div class="pt-12 text-center">
              <h3 class="text-xl font-bold text-gray-900 mb-4">Excelencia Cient√≠fica</h3>
              <p class="text-gray-600 leading-relaxed mb-6">
                Mantenemos los m√°s altos est√°ndares de calidad y rigor metodol√≥gico en todos nuestros proyectos, desde la hip√≥tesis inicial hasta la publicaci√≥n de resultados.
              </p>
              <!-- Indicador visual -->
              <div class="flex justify-center">
                <div class="h-1 w-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full"></div>
              </div>
            </div>
          </div>
          
          <!-- Formaci√≥n -->
          <div class="group relative bg-white/80 backdrop-blur-sm rounded-2xl p-8 border border-gray-200/50 shadow-lg hover:shadow-2xl transition-all duration-300 hover:scale-105">
            <!-- Solo el icono, SIN contenedor con fondo -->
            <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
              <span class="text-6xl drop-shadow-lg">üìö</span>
            </div>
            
            <div class="pt-12 text-center">
              <h3 class="text-xl font-bold text-gray-900 mb-4">Formaci√≥n Integral</h3>
              <p class="text-gray-600 leading-relaxed mb-6">
                Comprometidos con el desarrollo integral de habilidades cient√≠ficas, t√©cnicas y profesionales, preparando a la siguiente generaci√≥n de investigadores.
              </p>
              <!-- Indicador visual -->
              <div class="flex justify-center">
                <div class="h-1 w-16 bg-gradient-to-r from-purple-500 to-violet-600 rounded-full"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Secci√≥n de valores adicionales - Tambi√©n sin fondos -->
        <div class="bg-white/60 backdrop-blur-sm rounded-3xl p-8 border border-gray-200/30 shadow-xl">
          <div class="text-center mb-8">
            <h3 class="text-2xl font-bold text-gray-900 mb-4">Nuestros Valores Fundamentales</h3>
            <p class="text-gray-700 max-w-3xl mx-auto">
              Estos principios gu√≠an cada aspecto de nuestro trabajo cient√≠fico y forman la base de nuestra cultura de laboratorio.
            </p>
          </div>
          
          <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="text-center p-6 rounded-xl border border-gray-200/50 bg-white/50">
              <div class="text-5xl mb-4 drop-shadow-sm">üî¨</div>
              <h4 class="font-semibold text-gray-900 mb-2">Innovaci√≥n</h4>
              <p class="text-sm text-gray-600">Buscamos constantemente nuevas metodolog√≠as y enfoques</p>
            </div>
            
            <div class="text-center p-6 rounded-xl border border-gray-200/50 bg-white/50">
              <div class="text-5xl mb-4 drop-shadow-sm">üå±</div>
              <h4 class="font-semibold text-gray-900 mb-2">Crecimiento</h4>
              <p class="text-sm text-gray-600">Aprendizaje continuo y desarrollo profesional constante</p>
            </div>
            
            <div class="text-center p-6 rounded-xl border border-gray-200/50 bg-white/50">
              <div class="text-5xl mb-4 drop-shadow-sm">üéì</div>
              <h4 class="font-semibold text-gray-900 mb-2">Mentor√≠a</h4>
              <p class="text-sm text-gray-600">Gu√≠a y apoyo en el desarrollo cient√≠fico y personal</p>
            </div>
            
            <div class="text-center p-6 rounded-xl border border-gray-200/50 bg-white/50">
              <div class="text-5xl mb-4 drop-shadow-sm">üåç</div>
              <h4 class="font-semibold text-gray-900 mb-2">Impacto</h4>
              <p class="text-sm text-gray-600">Investigaci√≥n con relevancia social y cient√≠fica</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Join Team CTA - Completamente renovada -->
  <section class="relative bg-gradient-to-br from-indigo-600 via-blue-700 to-purple-800 py-24 overflow-hidden">
    <!-- Elementos decorativos de fondo -->
    <div class="absolute inset-0">
      <!-- C√≠rculos decorativos animados -->
      <div class="absolute top-1/4 left-1/4 w-64 h-64 bg-white/5 rounded-full blur-2xl animate-pulse"></div>
      <div class="absolute bottom-1/3 right-1/4 w-48 h-48 bg-purple-300/10 rounded-full blur-3xl animate-pulse" style="animation-delay: 2s;"></div>
      <div class="absolute top-1/2 right-1/3 w-32 h-32 bg-cyan-300/8 rounded-full blur-xl animate-pulse" style="animation-delay: 4s;"></div>
      
      <!-- Patr√≥n de puntos elegante -->
      <div class="absolute inset-0 opacity-10">
        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
          <pattern id="join-team-dots" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
            <circle cx="30" cy="30" r="2" fill="white" opacity="0.3"/>
            <circle cx="15" cy="15" r="1" fill="white" opacity="0.2"/>
            <circle cx="45" cy="45" r="1" fill="white" opacity="0.2"/>
          </pattern>
          <rect x="0" y="0" width="100%" height="100%" fill="url(#join-team-dots)"/>
        </svg>
      </div>
    </div>
    
    <div class="relative z-10 container mx-auto px-4">
      <div class="max-w-5xl mx-auto text-center">
        <!-- Badge superior -->
        <div class="mb-8">
          <span class="inline-block bg-white/20 backdrop-blur-sm text-white px-6 py-3 rounded-full text-sm font-semibold border border-white/30 shadow-lg">
            üöÄ √önete a Nuestro Equipo
          </span>
        </div>
        
        <!-- T√≠tulo principal -->
        <h2 class="text-4xl md:text-5xl lg:text-6xl font-bold text-black mb-6">
          ¬øInteresado en <span class="bg-gradient-to-r from-yellow-300 to-orange-400 bg-clip-text text-transparent">Unirte al Equipo</span>?
        </h2>
        
        <!-- Descripci√≥n -->
        <p class="text-xl md:text-2xl text-blue mb-12 max-w-4xl mx-auto leading-relaxed">
          Siempre estamos abiertos a recibir <strong class="text-yellow-300">estudiantes motivados</strong> y 
          <strong class="text-cyan-300">colaboradores apasionados</strong> que compartan nuestra visi√≥n por la 
          <strong class="text-green-300">investigaci√≥n cient√≠fica de excelencia</strong>.
        </p>
        
        <!-- Tarjetas de oportunidades -->
        <div class="grid md:grid-cols-3 gap-6 mb-12">
          <!-- Estudiantes -->
          <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 hover:scale-105">
            <div class="text-4xl mb-4">üéì</div>
            <h3 class="text-xl font-bold text-black mb-3">Estudiantes</h3>
            <p class="text-gray-100 text-sm leading-relaxed">
              Tesis de licenciatura, maestr√≠a y doctorado en √°reas de neurobiolog√≠a, endocrinolog√≠a y an√°lisis conductual.
            </p>
          </div>
          
          <!-- Postdocs -->
          <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 hover:scale-105">
            <div class="text-4xl mb-4">üî¨</div>
            <h3 class="text-xl font-bold text-black mb-3">Investigadores</h3>
            <p class="text-gray-100 text-sm leading-relaxed">
              Oportunidades posdoctorales y de colaboraci√≥n en proyectos de vanguardia con metodolog√≠as innovadoras.
            </p>
          </div>
          
          <!-- Colaboradores -->
          <div class="bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 hover:bg-white/15 transition-all duration-300 hover:scale-105">
            <div class="text-4xl mb-4">ü§ù</div>
            <h3 class="text-xl font-bold text-black mb-3">Colaboradores</h3>
            <p class="text-gray-100 text-sm leading-relaxed">
              Alianzas estrat√©gicas con otras instituciones y laboratorios para proyectos multidisciplinarios.
            </p>
          </div>
        </div>
        
        <!-- Botones de acci√≥n mejorados -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href={getBaseUrl() + "investigacion"} 
             class="group relative bg-white text-blue-700 px-8 py-4 rounded-xl font-bold text-lg hover:bg-blue-50 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 border-2 border-transparent hover:border-white/30">
            <span class="flex items-center">
              üî¨ Ver L√≠neas de Investigaci√≥n
              <svg class="w-5 h-5 ml-2 transform group-hover:translate-x-1 transition-transform" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
              </svg>
            </span>
          </a>
        </div>
        
        <!-- Informaci√≥n adicional -->
        <div class="mt-12 pt-8 border-t border-white/20">
          <p class="text-gray-100 text-sm mb-4">
            <strong class="text-white">Pr√≥ximas convocatorias:</strong> Enero 2025 (Licenciatura) ‚Ä¢ Marzo 2025 (Posgrado) ‚Ä¢ Rolling basis (Colaboraciones)
          </p>
          <div class="flex flex-wrap justify-center gap-6 text-sm text-gray-100">
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              Ambiente colaborativo
            </span>
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              Equipamiento de vanguardia
            </span>
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              Mentores experimentados
            </span>
            <span class="flex items-center">
              <svg class="w-4 h-4 mr-2 text-green-400" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
              </svg>
              Publicaciones de alto impacto
            </span>
          </div>
        </div>
      </div>
    </div>
  </section>
</Layout>

<style>
  /* Animaciones existentes + nuevas */
  @keyframes float-gentle {
    0%, 100% { 
      transform: translateY(0px) translateX(0px) rotate(0deg); 
      opacity: 0.2;
    }
    50% { 
      transform: translateY(-15px) translateX(8px) rotate(3deg); 
      opacity: 0.3;
    }
  }
  
  @keyframes float-gentle-delayed {
    0%, 100% { 
      transform: translateY(0px) translateX(0px) rotate(0deg); 
      opacity: 0.15;
    }
    50% { 
      transform: translateY(-20px) translateX(-10px) rotate(-2deg); 
      opacity: 0.25;
    }
  }
  
  /* Nueva animaci√≥n para pulse suave */
  @keyframes pulse-gentle {
    0%, 100% { 
      opacity: 0.1;
      transform: scale(1);
    }
    50% { 
      opacity: 0.2;
      transform: scale(1.05);
    }
  }
  
  .animate-float-gentle {
    animation: float-gentle 15s ease-in-out infinite;
  }
  
  .animate-float-gentle-delayed {
    animation: float-gentle-delayed 18s ease-in-out infinite;
  }
  
  .animate-pulse {
    animation: pulse-gentle 4s ease-in-out infinite;
  }
  
  /* Variables para f√°cil experimentaci√≥n */
  :root {
    --circle-size: 80px;
    --image-scale: 0.8;
  }

  /* Tama√±os personalizados para im√°genes del equipo */
  .team-image-container {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: var(--circle-size);
    height: var(--circle-size);
    border-radius: 50%;
    overflow: hidden;
    border: 2px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    z-index: 30;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #f8fafc;
  }
  
  .team-image {
    width: calc(var(--circle-size) * var(--image-scale));
    height: calc(var(--circle-size) * var(--image-scale));
    object-fit: cover;
    border-radius: 50%;
    transition: transform 0.3s ease;
  }
  
  /* Efectos hover */
  .group:hover .team-image-container {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
  }
  
  .group:hover .team-image {
    transform: scale(1.1);
  }
  
  /* Tama√±os responsive */
  @media (max-width: 640px) {
    :root {
      --circle-size: 50px;
      --image-scale: 0.85;
    }
    
    .team-image-container {
      top: 0.75rem;
      right: 0.75rem;
    }
  }
  
  @media (min-width: 641px) and (max-width: 1024px) {
    :root {
      --circle-size: 65px;
      --image-scale: 0.8;
    }
  }
  
  @media (min-width: 1025px) {
    :root {
      --circle-size: 100px;
      --image-scale: 0.9;
    }
  }
  
  /* Efectos hover para las cards */
  .group:hover {
    transform: translateY(-4px);
  }
  
  /* Hover suave para las stats cards */
  .hover\:scale-105:hover {
    transform: scale(1.05);
  }
  
  /* Transiciones suaves */
  .transition-all {
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 300ms;
  }
</style>